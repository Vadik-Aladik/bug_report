# BugReport.ru
BugReport.ru - сайт для оформления репортов о багах и ошибков тех или инных проектов, а также указание приоритета ошибки (не серъезный, средний, опасный). Пользователи, могут создавать, читать и редактировать свои репорты. Администраторам(разработчик) предоставлены все репорты пользователей, с изменением статуса ошибки (В процессе, Отложено, Исправлено).

Также реализованы другие функционалы:
- Авторизация/Регистрация/Выход из аккаунта
- Реализация ЧПУ (Человечески понятного УРЛ)
- Защита маршрутов (пользователям не доступны страницы если они не авторизованны)
- Реализована пагинация страниц
- Создание репортов с указанием их приоритета
- Редактирование созданного репорта
- Админ-панель

# Инструкция по запуску 
1. Установить XAMPP - для запуска локального веб сервера
2. Использовать PHP 8.2+
3. Скачайте и перенесите папку с проектом по пути "C:\xampp\htdocs\"
4. Запустите Apache и MySQL
5. Импортируйте вложенную БД в phpMyAdmin или в другую СУБД (если имя БД будет другим или будет требоваться пароль, перейдите в файл config.php)
6. Перейдите по ссылке: http://localhost/bug_report/?page=1

# Особенности
# QueryBuilder - класс для создания и работы с sql запросами.
Метод create() - позволяет создать новую запись, в качестве параметра принимает ассоциативный массив, где ключ явялется столбцом таблицы, а значение новые данные в записи. Пример: $blog->create('blogs', ['title' => 'Hello world', 'content'=>'...']);

Метод select() - позволяет извлечь данные из таблицы, в качестве параметра принимает название таблицы, а также, при необходимости, колонки которые вывести (по умолчанию стоит *). Для вывода записи обязательно в конце поставить один из методов: one() - вывести первую запись,  all() - выводит все записи из таблицы (возвращает многомерный массив). Пример: $blog->select('blogs')->all(); || $blog->select('blogs', 'user_id, title')->all();

Метод where() - позволяет фильтровать данные запроса, в качестве аргумента принимает массив где ['column', 'meaning', 'logic symbol (= < > and more)'], если вам нужно сразу несколько where запросов, созайте двумерный массив с значениями [['column', 'meaning', 'logic symbol (= < > and more)', Operation (AND OR)], ['column', 'meaning', 'logic symbol (= < > and more)', Operation (AND OR)]]. Пример: where([["email", 'qwer01@mail.ru', '=', 'OR'], ['id', '4', '<'], ['login', 'james']]) || where([['login', 'james']])

Метод paginate() - передают ограниченное количество записей, учитывая "страницу". В качестве параметра метод принимает в себя количество записей для вывода (count_recording) и страницу (pageб по умолчанию стоит еденица).

Метод update() - позволяет обновить данные записи в таблице, в качестве параметра принимает название таблицы, где должна обновиться запись, и массив по значению "ключ => значение", где ключ явялется столбцом таблицы, а значение то что должно быть в записи. Пример: $blog->update('blogs', ['title' => 'Hello world', 'content'=>'...'])->go();

Метод delete() - позволяет удалить запись из таблицы, в качестве параметра принимает название таблицы. Пример: $blog->delete("blogs")->go();

Метод go() - специальный метод для update и delete, позволяющий выполнить запрос, указывается в конце строки.

Метод innerJoin() - запрос для создания связи между таблицами, в качестве аргумента принимает название таблицы для создания связи, локальный ключ подключаемой таблицы и внешний ключ подключающей таблицы. Пример: $blog->select('blogs', "blogs.id, blogs.title, blogs.content, users.login")->innerJoin('users', 'user_id', 'id')->one();

# Validate - кдасс для валидации данных.
Метод rules() - задает правила валидации для полей. Принимает ассоциативный массив, где ключи - это имена полей, а значения - массивы правил. 
Пример: 
$validate->rules([
    'login' => ['required', 'min(4)', 'max(32)'],
    'email' => ['required', 'email', 'unique(users)']
]);

Метод validation() - выполняет проверку данных по заданным правилам. Принимает массив данных для проверки и опционально массив правил (если не были заданы через rules()). Возвращает true, если валидация прошла успешно, и false, если есть ошибки.
Пример:
$isValid = $validate->validation([
    'login' => $_POST['login'],
    'email' => $_POST['email']
]);

Метод required - проверяет, что поле не пустое. Пример: 'required'

Метод email - проверяет, что значение является корректным email-адресом. Пример: 'email'

Метод same - проверяет, что значение поля совпадает с другим полем. Пример: 'same(password)'

Метод exists - проверяет существование значения в указанной таблице базы данных. Пример: 'exists(users, login)' (второй параметр - имя столбца, опционально)

Метод unique - проверяет, что значение отсутствует в указанной таблице. Пример: 'unique(users, email)' (второй параметр - имя столбца, опционально)

Метод min - проверяет минимальную длину строки. Пример: 'min(8)'

Метод max - проверяет максимальную длину строки. Пример: 'max(255)'


Методы для получения результатов:

Метод getErrors() - возвращает массив с сообщениями об ошибках валидации, сгруппированными по полям. Пример: $errors = $validate->getErrors();

Метод getData() - возвращает массив с валидными данными после успешной проверки. Пример: $validData = $validate->getData();





**!!!ВНИМАНИЕ!!! Данный код создан исключительно в ознакомительных целях.
НЕ рекомендуется использовать его как основу для проектов.
Автор не несёт ответственности за возможный ущерб, нанесённый в результате использования этого кода.**
